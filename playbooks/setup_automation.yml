---
- name: Orchestrate Cluster Automation Schedule
  hosts: localhost
  connection: local
  become: no
  tasks:
    - name: Schedule Nightly Maintenance (2 AM)
      ansible.builtin.cron:
        name: "Nightly Cluster Patching"
        hour: "2"
        minute: "0"
        job: "cd ~/hpc-automation && ansible-playbook playbooks/cluster_maintenance.yml"
        state: present

    - name: Schedule 15-Minute Health Audit
      ansible.builtin.cron:
        name: "HPC Cluster Health Audit"
        minute: "*/15"
        job: "cd ~/hpc-automation && ansible-playbook playbooks/cluster_health_report.yml"
        state: present